define("plugins/jquery.suggestion",[],function(){!function(a){a.fn.suggestion=function(b,c){"function"==typeof b?(c=b,b={}):(b=b||{},c=c||function(){});var d={url:"",suggestionCls:"suggestion",activeCls:"active",FieldName:"word",parameter:{},dataFormat:"json",jsonpCallback:"data_callback",error:function(){},beforeSend:function(){},time:500,cache:!0,get:function(){},select:function(a){a.input.val(a.target.text())},showEvent:function(){},hideEvent:function(){}},e=a.extend({},d,b),f=a(window),g=a(document);return this.each(function(){var b=a(this),d=b.parents("form"),h=b.parent(),i={},j=a("<div class='"+e.suggestionCls+"'><ul></ul></div>").appendTo(h),k=j.find("ul"),l=k.find("li"),m=b.outerHeight(!0),n=b.outerWidth(!0),o=0,p=-1,q=!1,r=!1,s=!1,t={};d.css({position:"relative"}),b.prop({autocomplete:"off",disableautocomplete:!0}),"relative"!=j.css("position")&&j.css("position","absolute"),j.hide();var u=function(){m=b.outerHeight(!0),n=b.outerWidth(!0),_top=b.position().top,_left=b.position().left,"absolute"==j.css("position")&&j.css({top:_top+m+"px",left:_left+"px",width:n+"px"})},v=function(a){switch(a.isPropagationStopped(),a.preventDefault(),a.keyCode){case 13:case 38:case 40:break;default:D()}},w=function(a){switch(a.isPropagationStopped(),a.keyCode){case 13:z();break;case 38:q&&(p>0?p--:p=l.length-1,l.eq(p).addClass(e.activeCls).siblings().removeClass(e.activeCls),a.preventDefault());break;case 40:q&&(p<l.length-1?p++:p=0,l.eq(p).addClass(e.activeCls).siblings().removeClass(e.activeCls),a.preventDefault())}},x=function(a){a.isPropagationStopped(),a.preventDefault(),D()},y=function(b){b.isPropagationStopped();var c=a(this);p=c.index(),c.addClass(e.activeCls).siblings().removeClass(e.activeCls)},z=function(){var a=k.find("li."+e.activeCls);if(0!=a.length){var c={target:a,input:b};e.select(c),A()}},A=function(){q=!1,clearTimeout(o),j.hide(),e.hideEvent()},B=function(){q=!0,j.show(),e.showEvent(),u()},C=function(a){if("loading"!=a){var b={target:k,data:a};e.get(b),l=j.find("li"),r=l.length>0,B()}};window[e.jsonpCallback]=function(){};var D=function(){q=!0,o=setTimeout(function(){if(q){var c=a.trim(b.val());if(!c)return i.hide(),r=0,!0;p=-1,e.parameter[e.FieldName]=c;var d=a.param(e.parameter);if(e.cache&&t[e.url+"?"+d])return C(t[e.url+"?"+d]),!0;t[e.url+"?"+d]="loading";var f={};if(f.url=e.url,f.data=e.parameter,f.dataType=e.dataFormat,e.cache&&(f.cache=!0),e.jsonpCallback&&(f.jsonpCallback=e.jsonpCallback),e.error&&(f.error=e.error({target:k})),e.beforeSend){var g={target:k};f.beforeSend=e.beforeSend(g)}f.success=function(a){t[e.url+"?"+d]=a,C(a)},a.ajax(f)}},e.time)};i.getIsShow=function(){return q},i.getObj=function(){return j},i.show=function(){B(),s=!0},i.hide=function(){A()},i.getHasdata=function(){return r},b.on({keyup:v,keydown:w,input:x}),b.on("click",function(){var a=b.val();r&&a&&(B(),s=!0)}),k.on("click","li",function(){z()}).on("mouseenter","li",y),g.on("click",function(){s||i.hide(),s=!1}),f.resize(u),u(),c(i)})}}(jQuery)});