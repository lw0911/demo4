!function(e){function t(e){e&&e.stopPropagation?e.stopPropagation():window.event&&(window.event.cancelBubble=!0)}function n(e){return e&&e.preventDefault?e.preventDefault():window.event.returnValue=!1,!1}e.fn.slider=function(i,a){"function"==typeof i?(a=i,i={}):(i=i||{},a=a||function(){});var o={contentCls:"content",navCls:"nav",prevBtnCls:"prev",nextBtnCls:"next",activeTriggerCls:"active",disableBtnCls:"disable",hoverCls:"hover",step:1,direction:"x",inEndEffect:"switch",hasTriggers:!0,triggerCondition:"*",triggerType:"mouse",activeIndex:0,pointerType:"click",auto:!1,animate:!0,delay:3e3,duration:500,easing:"easeIn",keyboardAble:!1,touchable:!0,sensitivity:.4,scrollable:!1,beforeEvent:function(){},afterEvent:function(){}},s=e.extend({},o,i),r=e(window);return this.each(function(){function i(e,t){if(y>=m){var n=0!=e?t||s.duration:0,i={};switch(s.inEndEffect){case"switch":if(x%=w,E[w]-E[x]<m)for(i="left"==z?{left:m-y}:{top:m-y},x=w;x&&E[w]-E[x-1]<=m;x--);else i="left"==z?{left:-E[x]}:{top:-E[x]};b.removeClass(s.activeTriggerCls).eq(x).addClass(s.activeTriggerCls),d.stop().animate(i,{easing:s.easing,duration:n,complete:function(){var e={index:x,count:w};s.afterEvent(e)}});break;case"cycle":b.removeClass(s.activeTriggerCls).eq(x%w).addClass(s.activeTriggerCls),i="left"==z?{left:-E[x]}:{top:-E[x]},d.stop().animate(i,{easing:s.easing,duration:n,complete:function(){var e={index:x%w,count:w};s.afterEvent(e)}}),i="left"==z?{left:E[w]-E[x]}:{top:E[w]-E[x]},Y.stop().animate(i,{easing:s.easing,duration:n,complete:function(){x>=w&&(x%=w,d.css(z,E[w]-E[x]+"px"),d=[Y,Y=d][0])}});break;default:if(x=Math.min(x,w-1),b.removeClass(s.activeTriggerCls).eq(x).addClass(s.activeTriggerCls),p.toggleClass(s.disableBtnCls,0==x),g.toggleClass(s.disableBtnCls,x==w-1),E[w]-E[x]<m)for(i="left"==z?{left:m-y}:{top:m-y},x=w;x&&E[w]-E[x-1]<=m;x--);else i="left"==z?{left:-E[x]}:{top:-E[x]};d.stop().animate(i,{easing:s.easing,duration:n,complete:function(){var e={index:x,count:w};s.afterEvent(e)}})}}}function o(e){if(e=e||window.event,t(e),n(e),!d.is(":animated")){var i=-e.wheelDelta/120||e.detail/3;i>0?C.next(e):C.prev(e)}}function c(e){P=null,k=new Date,C.stop(),T=e.originalEvent.changedTouches[0],I[0]=d.position()[z],"cycle"==s.inEndEffect&&(I[1]=Y.position()[z])}function u(e){e.stopPropagation();var t=e.originalEvent.changedTouches[0],n=t.pageX-T.pageX,i=t.pageY-T.pageY;D="x"==s.direction?n:i,P||(P=Math.abs(i)<Math.abs(n)?"x":"y");var a=Math.abs(i)<Math.abs(n)?"x":"y";a==P&&y>=m&&("x"==s.direction&&"x"==P||"y"==s.direction)&&(e.preventDefault(),D>0?I[0]>0?"cycle"==s.inEndEffect?(x=w-1,I[1]-=2*E[w],Y.css(z,I[1]+"px"),d=[Y,Y=d][0],I[0]=[I[1],I[1]=I[0]][0]):D*=.25:Math.abs(I[0])<E[x]&&x--:(x==w?"cycle"==s.inEndEffect&&(x=0,I[0]+=2*E[w],d.css(z,I[0]+"px"),d=[Y,Y=d][0],I[0]=[I[1],I[1]=I[0]][0]):Math.abs(I[0])>=E[x+1]&&x++,"cycle"!=s.inEndEffect&&E[w]-E[x]<=m&&(D*=.25)),I[0]+=D,d.css(z,I[0]),"cycle"==s.inEndEffect&&(I[1]+=D,Y.css(z,I[1])),T=t)}function f(){s.auto&&C.start();var e=new Date,t=E[x+1]-E[x],n=0,a=!1;D>0?(n=E[x+1]+I[0],a=n/t>s.sensitivity||250>e-k&&Math.abs(n)>10,a||x++):(n=-E[x]-I[0],a=n/t>s.sensitivity||250>e-k&&Math.abs(n)>10,a&&x++),"cycle"!=s.inEndEffect&&(x=Math.min(w-1,x)),i(!0,300)}function l(e){switch("y"==s.direction&&(e.which-=1),e.which){case 37:C.prev(e);break;case 39:C.next(e)}}var h=e(this),d=h.find("."+s.contentCls),v=d,p=h.find("."+s.prevBtnCls),g=h.find("."+s.nextBtnCls),b=e(),M=this,C={},E=[],w=d.children().length,x=s.activeIndex<0?w+s.activeIndex:s.activeIndex,m=0,y=0,T={},I=[],k=0,P=null,D=0,B=null,z="x"==s.direction?"left":"top",X=d.css("position","absolute").parent();if("static"==X.css("position")&&X.css("position","relative"),"cycle"===s.inEndEffect){var Y=d.clone().insertAfter(d);v=d.add(Y)}var q=v.children();if(s.hasTriggers){if(!h.find("."+s.navCls).length){for(var A="",L=1;w>=L;L++)A+="<li>"+L+"</li>";h.append("<ul class='"+s.navCls+"'>"+A+"</ul>")}s.triggerType+="mouse"===s.triggerType?"enter":"",b=h.find("."+s.navCls+" > "+s.triggerCondition).bind(s.triggerType,function(e){var t=b.index(this),n={index:x,count:w,destination:t,event:e};s.beforeEvent(n)!==!1&&(x=t,i(s.animate))})}C.prev=function(e){var t={index:x,count:w,destination:"prev",event:e};if(v.is(":animated"))return!1;if(s.beforeEvent(t)!==!1){var n=s.step;if("auto"==n)for(n=1;E[x+w]-E[x+w-n-1]<=m;n++);switch(s.inEndEffect){case"switch":x?x-=Math.min(n,x):x=w-1;break;case"cycle":0>x-n?(Y.css(z,-E[w]-E[x]+"px"),d=[Y,Y=d][0],x+=w-n):x-=n;break;default:x&&(x-=Math.min(n,x))}i(s.animate)}},C.next=function(e){var t={index:x,count:w,destination:"next",event:e};if(v.is(":animated"))return!1;if(s.beforeEvent(t)!==!1){var n=s.step;if("auto"==n){for(var a=x;2*w>a&&E[a+1]-E[x]<=m;a++);x=a}else{var o=w-x-1;switch(s.inEndEffect){case"switch":E[w]-E[x]>m?x+=Math.min(n,o):x=0;break;case"cycle":x+=n;break;default:E[w]-E[x]>m&&(x+=Math.min(n,o))}}i(s.animate)}},C.start=function(){C.stop(),B=setInterval(C.next,s.delay)},C.stop=function(){B&&clearInterval(B)},C.setIndex=function(e,t){x=e%w,i(t)},C.setStep=function(e){s.step=e},C.setDelay=function(e){s.delay=e},C.setDuration=function(e){s.duration=e},C.getIndex=function(){return x},C.resize=function(){E=[],y=0,"x"==s.direction?(q.css("width",""),m=X.width(),q.each(function(){var t=e(this),n=Math.min(t.width(),m);E.push(y),t.width(n),y+=Math.ceil(t.outerWidth(!0))}).each(function(e){E.push(y+E[e])}),"cycle"==s.inEndEffect&&(y/=2),v.css("width",y)):(q.css("height",""),m=X.height(),q.each(function(){var t=e(this),n=Math.min(t.height(),m);E.push(y),t.height(n),y+=Math.ceil(t.outerHeight(!0))}).each(function(e){E.push(y+E[e])})),i(!1)},s.auto&&(C.start(),h.hover(C.stop,C.start)),h.hover(function(){h.addClass(s.hoverCls)},function(){h.removeClass(s.hoverCls)}),"click"===s.pointerType?(p.on("click",C.prev).hover(function(){p.toggleClass(s.hoverCls)}),g.on("click",C.next).hover(function(){g.toggleClass(s.hoverCls)})):(p.on({mouseenter:function(){x=0,i()},mouseleave:function(){var e=-d.position().left;for(x=0;w>x&&E[x+1]<=e;x++);i(!0,s.duration/2)}}),g.on({mouseenter:function(){x=w-1,i()},mouseleave:function(){var e=-d.position().left;for(x=0;w>x&&E[x]<=e;x++);i(!0,s.duration/2)}})),s.touchable&&(!function(){function e(e){n=e.originalEvent.changedTouches[0]}function t(e){var t=e.originalEvent.changedTouches[0],i=Math.abs(t.pageX-n.pageX),a=Math.abs(t.pageY-n.pageY);5>i&5>a&&e.stopPropagation()}var n=0;p.on({touchstart:e,touchend:t}),g.on({touchstart:e,touchend:t})}(),h.on({touchstart:c,touchmove:u,touchend:f})),r.resize(C.resize),s.keyboardAble&&r.keydown(l),s.scrollable&&(document.addEventListener&&M.addEventListener("DOMMouseScroll",o,!1),M.onmousewheel=o),C.resize(),a(C)})},e.extend(e.easing,{def:"easeIn",swing:function(t,n,i,a,o){return e.easing[e.easing.def](t,n,i,a,o)},easeIn:function(e,t,n,i,a){return i*(t/=a)*t+n},easeOut:function(e,t,n,i,a){return-i*(t/=a)*(t-2)+n},expoin:function(e,t,n,i,a){return 0==t?n:i*Math.pow(2,10*(t/a-1))+n},expoout:function(e,t,n,i,a){return t==a?n+i:i*(-Math.pow(2,-10*t/a)+1)+n},expoinout:function(e,t,n,i,a){return 0==t?n:t==a?n+i:(t/=a/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(-Math.pow(2,-10*--t)+2)+n},elasin:function(e,t,n,i,a){var o=1.70158,s=0,r=i;if(0==t)return n;if(1==(t/=a))return n+i;if(s||(s=.3*a),r<Math.abs(i)){r=i;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(i/r);return-(r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*a-o)*Math.PI/s))+n},elasout:function(e,t,n,i,a){var o=1.70158,s=0,r=i;if(0==t)return n;if(1==(t/=a))return n+i;if(s||(s=.3*a),r<Math.abs(i)){r=i;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(i/r);return r*Math.pow(2,-10*t)*Math.sin(2*(t*a-o)*Math.PI/s)+i+n},elasinout:function(e,t,n,i,a){var o=1.70158,s=0,r=i;if(0==t)return n;if(2==(t/=a/2))return n+i;if(s||(s=.3*a*1.5),r<Math.abs(i)){r=i;var o=s/4}else var o=s/(2*Math.PI)*Math.asin(i/r);return 1>t?-.5*r*Math.pow(2,10*(t-=1))*Math.sin(2*(t*a-o)*Math.PI/s)+n:r*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*a-o)*Math.PI/s)*.5+i+n},backin:function(e,t,n,i,a,o){return void 0==o&&(o=1.70158),i*(t/=a)*t*((o+1)*t-o)+n},backout:function(e,t,n,i,a,o){return void 0==o&&(o=1.70158),i*((t=t/a-1)*t*((o+1)*t+o)+1)+n},backinout:function(e,t,n,i,a,o){return void 0==o&&(o=1.70158),(t/=a/2)<1?i/2*t*t*(((o*=1.525)+1)*t-o)+n:i/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+n},bouncein:function(t,n,i,a,o){return a-e.easing.bounceout(t,o-n,0,a,o)+i},bounceout:function(e,t,n,i,a){return(t/=a)<1/2.75?7.5625*i*t*t+n:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+n:i*(7.5625*(t-=2.625/2.75)*t+.984375)+n},bounceinout:function(t,n,i,a,o){return o/2>n?.5*e.easing.bouncein(t,2*n,0,a,o)+i:.5*e.easing.bounceout(t,2*n-o,0,a,o)+.5*a+i}})}(jQuery),$(".slider").slider({contentCls:"p-pic",navCls:"p-nav",inEndEffect:"cycle"});